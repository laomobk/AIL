

fun log(func) {
    fun wrapper(argv) {
        print 'call'; func
        return func(argv)
    }
    return wrapper
}

@log
fun print_name(name) {
    print 'Hello'; name
}


struct Person {
    name
}

@log
fun (Person) say_hi(this) {
    print 'Hello, my name is'; this.name
}

if __is_main__ {
    print_name('Nezha')
    new(Person, ['Nezha']).say_hi()
}
